<!DOCTYPE html>
<html th:replace="~{adminlte3 :: layout (~{::title}, ~{::main}, _, _)}">
<head>
    <meta charset="UTF-8">
    <title>Lista de Usuarios</title>
</head>
<body>
<main>
    <div class="row">
        <div class="col">
            <div th:if="${alert}" class="alert alert-success fade show d-flex justify-content-between align-items-center" role="alert">
                <span th:text="${alert}"></span>

                <button type="button" class="btn btn-close" data-bs-dismiss="alert" aria-label="Close">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="white" class="bi bi-x" viewBox="0 0 16 16">
                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                    </svg>
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-title">Lista de Usuarios</div>
                    <div class="card-tools">
                        <a class="btn btn-sm btn-success" th:href="@{/admin/users/signup}">Novo Usuario</a>
                    </div>
                </div>

                <div class="card-body">
                    <table class="table table-condensed">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Nome Completo</th>
                            <th scope="col">E-mail</th>
                            <th scope="col">Acoes</th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr th:each="user : ${users}">
                            <td scope="row" th:text="${user.id}"></td>
                            <td th:text="${user.name}"></td>
                            <td th:text="${user.email}"></td>
                            <td>
                                <a th:href="@{/admin/users/{id}/edit (id=${user.id})}" class="btn btn-primary">Editar</a>

                                <a th:href="@{/admin/users/{id}/delete (id=${user.id})}"
                                   class="btn btn-danger"
                                   onclick="return confirm('Tem certeza que deseja excluir esse usuario?')">Excluir</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>